<div class="text-center contenido">
  <div class="banner">
    <h3 class="banner-text">Administración de publicaciones</h3>
  </div>
  <form [formGroup]="form" class="form-style">
      <!-- CAMBIAR A DROPDOWN -->
    <label for="tipo">Tipo Mobiliario:</label>
    <input
      id="tipo"
      type="text"
      class="form-control"
      formControlName="tipoMobiliario"
      [ngClass]="{
        'error-validation': submitted && f['tipoMobiliario'].errors,
        'success-validation':
          tipoMobiliario.valid && (tipoMobiliario.dirty || tipoMobiliario.touched)
      }"
    />
    <label for="hab">Número de habitaciones:</label>
    <input
      id="hab"
      type="number"
      class="form-control"
      formControlName="numHabitaciones"
      [ngClass]="{
        'error-validation': submitted && f['numHabitaciones'].errors,
        'success-validation': numHabitaciones.valid && (numHabitaciones.dirty || numHabitaciones.touched)
      }"
    />
    <label for="banos">Número de baños:</label>
    <input
      id="banos"
      type="number"
      class="form-control"
      formControlName="numBaños"
      [ngClass]="{
        'error-validation': submitted && f['numBaños'].errors,
        'success-validation': numBaños.valid && (numBaños.dirty || numBaños.touched)
      }"
    />
    <label for="piso">Piso:</label>
    <input
      id="piso"
      type="number"
      class="form-control"
      formControlName="piso"
      [ngClass]="{
        'error-validation': submitted && f['piso'].errors,
        'success-validation': piso.valid && (piso.dirty || piso.touched)
      }"
    />
      <!-- CAMBIAR A DROPDOWN -->
    <label for="sector">Sector:</label>
    <input
      id="sector"
      type="text"
      class="form-control"
      formControlName="sector"
      [ngClass]="{
        'error-validation': submitted && f['sector'].errors,
        'success-validation': sector.valid && (sector.dirty || sector.touched)
      }"
    />

    <label for="descripcion">Descripción:</label>
    <input
      id="descripcion"
      type="text"
      class="form-control"
      formControlName="descripcion"
      [ngClass]="{
        'error-validation': submitted && f['descripcion'].errors,
        'success-validation': descripcion.valid && (descripcion.dirty || descripcion.touched)
      }"
    />

    <label for="canon">Canon (en pesos, sin comas ni puntos):</label>
    <input
      id="canon"
      type="number"
      class="form-control"
      formControlName="canon"
      [ngClass]="{
        'error-validation': submitted && f['canon'].errors,
        'success-validation': canon.valid && (canon.dirty ||canon.touched)
      }"
    />

    <label for="foto">Foto (ingresa un link):</label>
    <input
      id="foto"
      type="text"
      class="form-control"
      formControlName="foto"
      [ngClass]="{
        'error-validation': foto && f['foto'].errors,
        'success-validation': foto.valid && (foto.dirty || foto.touched)
      }"
    />
   
    <label for="cocina">¿Tiene cocina integral?</label>
    <div class="label-radio">
      <input type="radio" value="SI" formControlName="tieneCocinaIntegral" />
      <span>Sí</span>
    </div>

    <div class="label-radio">
      <input type="radio" value="NO" formControlName="tieneCocinaIntegral" />
      <span>No</span>
    </div>

    <label for="patio">¿Tiene patio?</label>
    <div class="label-radio2">
      <input type="radio" value="SI" formControlName="tienePatio" />
      <span>Sí</span>
    </div>

    <div class="label-radio2">
      <input type="radio" value="NO" formControlName="tienePatio" />
      <span>No</span>
    </div>

    

    <button class="btn btn-success" (click)="validacion()">
      {{ editting ? "Editar Publicación" : "Añadir Publicación" }}
    </button>

    
      <button *ngIf="editting==true" class="btn btn-success" (click)="reset()">
      Limpiar
    </button>
    
  </form>
  <table class="table">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Document</th>
        <th scope="col">Name</th>
        <th scope="col">Phone</th>
        <th scope="col">E-mail</th>
        <th scope="col">Salary (USD)</th>
        <th scope="col">Gender</th>
        <th scope="col">Date of Birth</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody *ngIf="employees && employees.length > 0">
      <tr *ngFor="let item of employees">
        <th scope="row">{{ item._id | slice: 0:10 }}...</th>
        <td>{{ item.document }}</td>
        <td>{{ item.name }}</td>
        <td>{{ item.phone }}</td>
        <td>{{ item.email }}</td>
        <td>{{ item.salary }}</td>
        <td>{{ item.isFemale ? "Female" : "Male" }}</td>
        <td>{{ item.dateOfBirth }}</td>
        <td>
          <button class="btn btn-success" (click)="edit(item)">Edit</button>
          <button class="btn btn-danger" (click)="delete(item._id)">
            Delete
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>